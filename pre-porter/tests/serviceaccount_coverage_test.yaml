suite: test serviceaccount coverage gaps
templates:
  - serviceaccount.yaml
tests:
  - it: should use nameOverride in serviceaccount name
    set:
      nameOverride: "custom-name"
    asserts:
      - equal:
          path: metadata.name
          value: "RELEASE-NAME-custom-name"

  - it: should use fullnameOverride in serviceaccount name
    set:
      fullnameOverride: "completely-custom"
    asserts:
      - equal:
          path: metadata.name
          value: "completely-custom"